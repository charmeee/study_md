
#### 마이크로프로세서와 마이크로 컨트롤러를 비교 설명하시오
- 마이크로프로세서 : cpu , alu + cu + register
- 마이크로컨트롤러는: 마이크로프로세서 + io인터페이스 + 메모리 ,원칩컴퓨터

#### ATmega128 마이크로 컨트롤러의 프로그램 수행과정에 사용된 레지스터와 동작 순서에 다라 프로그램 수행과정을 설명하시오

- 명령어 인출
	- PC가 가리키는 명령어를 IR로 인출
- 명령어 실행
	- 명령어 분석
	- ALU로 오퍼랜드를 보냄
	- ALU에서 연산 실행및 결과저장

#### ATmega128 명령어
- 데이터전송 명령어: 주로 메모리 <->레지스터 사이에 데이터를 전송하는 명령어
- 데이터 처리 명령어: 산술연산및 데이터를 처리하는 명령어
- 프로그램제어 명령어: 서브루틴,인터럽트 발생등 프로그램을 멈추고 동작하게하는 등의 제어를 하는 명령어

#### ATmega128 주변장치들과의 인터페이스에 대해 간단히 설명해줘
8비트 타이머 카운터
실시간타이머 카운터
아날로그 비교기
A/D 변환기
출력비교 모듈레이터
6개의 PWM 채널


#### ATmega128 공통버스 3개
어드레스버스 : "읽고 쓰기위한" 주소를 전달하는 버스
데이터 버스 : 데이터가 이동하는 버스
제어버스 : cpu외부장치를 제어하는 버스

#### 다음 코드 작성
![[스크린샷 2023-10-23 오전 3.16.46.png|300]]
1. 반복하며 하나만 불이 들어오도록 설계
2. d에 불이켜져잇을때 시간내에 스위치를 누르면 속돌르 더 빠르게
```
//스위치는 portd 0 에연결
# include <avr/io.h>
# include <util/delay.h>

int main(){
	DDRC = 0xFF;// 다출력으로
	DDRD = 0x00; // 다입력으로
	PORTD = 0xFF;// 다풀업저항 연결
	//안눌렷을때 1 눌렷을때 0
	unsigned char arr[] = {0x01,0x02,0x04,0x08,0x10,0x20}
	int num = 0;
	int delay =1000;
	
	while(1){
		PORTC = arr[num%6];


		if((PORTC==0x08)&&((PIND&(1<<PD0))==0)){
			//d켜져잇고 열려있다면
			delay -= 1000;
		}
		num=num+1;
		_delay_ms(1000);
		
	}
	return 0;
}
```

#### 바람개비 방향 속도 알고자 프로그램 & 회로
![[스크린샷 2023-10-23 오전 3.19.35.png]]
```
# include <avr/io.h>
# include <util/delay.h>

//6 백
//7 프런트
int main (){
	DDRB = 0x00;
	if(PORTB&1<<PB6){
	//6번이 1인경우
		if(PORTB&1<<PB7){
			//is stop
		}else{
			//is back
		}
	}else{
		//isfront
	}
	//stop이 몇번 결렷는지 실행,


}
```

[[마프]]