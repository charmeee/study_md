## 컴퓨터 시스템
### 주요 구성요소
- 하드웨어
	- CPU & 장치제어기 + α(메인메모리 등..)
	- 각 장치제어기는 지역버퍼를 가짐.
	- 드라이브 : 입출력 제어기와 커널사이의 일관된 인터페이스 제공
- 운영체제
- 응용프로그램
- 사용자
### 저장장치(메모리) 계층 구조
![[assets/스크린샷 2024-03-10 오후 8.32.38.png|400]]
##### 주기억장치
- 레지스터
	- cpu 내부, 휘발성
	- cpu 계산 과정에서 사용되는 메모리![[assets/스크린샷 2024-04-03 오전 10.49.53.png]]
- 캐쉬
	- cpu 내부 , 휘발성 , SRAM
	- 보다 데이터를 빨리 얻기위해 사용하는 임시저장소이다.
	- 이미 데이터가 존재하는지 확인하고 지역성에 따라 데이터 일시저장한다
	- 내부적으로 L1,L2,L3로 또 계층적으로 나뉜다(1,2는 코어마다 3은 코어전체 공유)
- 메인 메모리
	- cpu 외부 , 휘발성 , DRAM
	- Random access(임의 접근)
	- 프로그램,프로세스가 실행되기 위해서는 해당프로그램이 메모리에 적제되어야함
	- cpu외부에있으면서 cpu가 직접 접근 가능한 유일한 장치
- ROM
	- 계층 구조에는 보통 포함 안됨
	- cpu 외부, 비휘발성
	- bios 같이 부트프로그램이 저장되어있음.
##### 보조기억장치
- HDD(하드디스크) : 물리적으로 회전시켜 데이터 저장
- SSD : 전기적(반도체)으로 데이터 저장

### 작동 방식
대체적으로 폰노이만 구조를 띔(하나의 시스템 버스에 연결됨)
![[assets/스크린샷 2024-04-03 오후 2.24.19.png]]
구성요소들 간에 시스템 버스를 이용하여 데이터를 전송
- 시스템 버스
	- 주소버스 , 제어버스, 데이터버스
- DMA : 직접 메모리 접근
	- 메인 메모리 속도에 근접한 속도로 전송가능
	- 고속 입출력 장치에 사용
	- 장치제어기는 데이터 블록을 장치버페에서 바로 메인메모리로 직접 전송. (CPU 개입 X)
	- 바이트가 전송될때마다 인터럽트 ㄴㄴ, 블록의 전송이 끝날때마다 하나의 인터럽트

버스와 커널.. 버스는 하드웨어들간의 데이터를 전송
커널은 소프트웨어 <-> 하드웨어 인터페이스 역할
### 연산 과정
- Cpu와 i/o장치는 병행실행된다.
- 컴퓨터는 하나이상의 cpu에 여러가지 i/o장치가 메모리에 연결되어있다. 때문에 메모리 자원을 가지고 경쟁하게 된다
- 각 장치 제어기(마우스와 연결된 usb컨트롤러 같은것)은 특정 유형 장치를 담당한다. 그리고 각 제어기는 지역버퍼를 가진다.
	- 입출력은 장치 -> 지역버퍼로 데이터를 이동하는 것.
- cpu :  메인메모리 <-> 지역버퍼메모리 데이터를 이동한다.
- 장치제어기는 인터럽트를 발생시켜 연산종료를 알린다.

###  시스템 구조
#### 다중처리 구조
![[assets/스크린샷 2024-04-04 오후 4.10.20.png|400]]
- 하나의 컴퓨터 안에서 cpu 여러개(다중코어)로 병렬적으로 처리하는것
- 형태
	- 비대칭 다중처리 : 각 처리기가 각각의 임무를 수행
	- 대칭 다중처리 : 각 처리기가 공통된 임무를 수행
#### 클러스터 시스템
![[assets/스크린샷 2024-04-04 오후 4.10.39.png|400]]
- 여러개의 시스템이 같이 작업을 하는 시스템
- SAN을 통해서 저장 장치를 공유
- 고성능, 고가용성 환경을 제공
- 분산 락 관리자를 제공하여 상충하는 연산을 피하는 경우도 잇음
- 형태
	- 비대칭 클러스터링 :하나가 긴급 대기 모드 상태
	- 대칭 클러스터링 : 여러 노드가 같이 응용프로그램을 실행하고 서로를 모니터링

## 운영체제

- 목표 : 컴퓨터 시스템을 사용하기 편리하게 만들자
- 자원할당기 : 모든 자원을 관리
- 제어프로그램 : 프로그램실행제어
- 관점,목적에 따라 달라진다.
- 커널 : 시스템의 기본적인  관리를 담당
	- 소프트웨어 <-> 하드웨어 인터페이스 역할
	- 항상 실행되는 유일한 프로그램

### 운영체제 실행
부트스트램 프로그램(=펌웨어)
- 전원이 공급되는 시점에서 적재되는 프로그램
- 롬 바이오스에 저장되어 있음.
- 구성요소 초기화
- 부트 블록(디스크 블록0)에서 운영체제 위치가 담겨잇음.
- 운영체제 커널 적재후 커널을 실행

### 인터럽트
![[assets/스크린샷 2024-04-03 오후 2.04.45.png|500]]
- 하드웨어 인터럽트 : 운영체제와 하드웨어가 상호작용하는 방식
- 소프트웨어 인터럽트
- 운영체제는 인터럽트가 발생해야 작동을 시작함((interrupt driven)
##### 처리 방식(인터럽트 핸들러)
![[assets/스크린샷 2024-04-03 오후 2.09.17.png]]
 - 인터럽트 백터 : 서비스루틴의 주소를 가지고 있음
 - 서비스루틴 : 인터럽트 발생후 처리 내용
 - 소프트웨어, 하드웨어 인터럽트로 나뉜다
	 - 소프트웨어 인터럽트는 트랩 or 예외라고도 불림
	 - 시스템콜은 소프트웨어 인터럽트의 일종

### 운영체제 연산
- 이중 모드(Dual Mode)연산 시스템.
	- 사용자 모드(User mode), 커널 모드(kernel mode)
	- mode bit(하드웨어 제공) : 모드를 구분할 수 있게 만듬
#### 사용자 모드 ,커널 모드 전이


### 운영체제 구조
#### 다중 프로그래밍 시스템
- 메모리에 여러프로그램 적재
- 하나 실행하다가 대기 상태 될 시 다른프로그램 실행
- OS는 작업스케줄링과 cpu스케줄링을 진행
	- 작업 스케줄링 : 디스크 -> 메모리로 작업 이동
	- cpu 스케줄링 : 메모리 -> cpu 작업 이동
- 시분할 시스템을 이용
##### 시분할 시스템
- cpu가 빈번하게 다른 작업으로 전환하도록 하는 시스템
- 각 사용자들에게 작은 시간단위를 할당
- 대화식 컴퓨팅환경을 만들 수 있게함
	- 사용자와 각 작업과 상호작용 가능
- OS는 스케줄링 알고리즘과 컨텍스트 스위칭을 동시진행
	- 프로세스 스케줄링  : 각 프로세스에게 CPU시간을 분배하기 위한 알고리즘
	- 컨텍스트 스위칭: 한작업에서 다른작업으로 전환하는것
- 프로세스전체가 실행할 수 없다면
	- 스와핑(swapping)
		- 가장 안쓰는 프로세스랑 지금 필요한 프로세스를 메모리에서 교체한다. (안쓰는 프로세스는 보조기억장치에 적재)
		- 프로세스단위의 스와핑
	- 가상메모리
		- 필요한 페이지의 주소를 가지고 (페이징 테이블) 페이지 단위로 스와핑함
		- 실제 물리적 메모리보다 더 큰 메모리를 실행가능

### 운영체제 연산

### ......ㅈㄷ
- 저장장치 빠른순
	- 레지스터-캐시-메인메모리-하드디스크
- 다중프로그래밍환경을 가능하게하기위해 여러개 프로세스들에게 시간을 균등하게 할당, 순차적으로 시행하는것
	- timesharing
- 운영체제 역할이 아닌것은?
	- 사용자 인터페이스 제공
	- 컴퓨터 시스템을 편리하게 사용하도록
	- 하드웨어를 효율적으로 이용하도록
	- 사용자 프로그램 효율적 (어플리케이션이함)
	- 4번
- 메인메모리 속도에 근접한 속도로 정보를 전송할 수 있는 고속 입출력 장치를 위해 사용하는 기법으로 메모리 직접접근을 가능하게 하는 장치를 영어 약어로
	- DMA
- 입출력 제어기와 운영체제 커널사이의 일관된 인터페이스를 제공하는 입출력을 관리하는 프로그램은?
	- 장치-드라이버
- 입출력이 완료되었음을 CPU에게 통보하는 것은?
	- 인터럽트
- 운영체제의 부분으로 컴퓨터에서 항상 실행되는 유일한파트는
	- 커널
- 캐싱에 대해 설명하라
	- 위에 보샘
- 다음을 설명하는 시스탬은? (SAN ,고성능컴퓨팅, 고가용성)
	- 클러스터-시스템
- 운영체제 서비스 요청을 위해 발생시키는 것은
	- 소프트웨어 인터럽트
- 실행중인 프로그램이라고 하고, 운영체제가 관리하는 작업단위
	- 프로세스
- 메모리에 관한 설명중 잘못된 것은?
	- 운영체제의 메모리 관리는 메모리가 부족할 경우 어느 프로세스 메모리를 디스크로 내보낼지를 결정한드(스와핑)
	- 메모리를 효율적으로 사용하기 위하여 하나의 프로세스가 필요한 모든 데이터가 메모리에 반드시 있어야한다.
	- 프로그램을 실행하기위하여 명령어 전체 혹은 일부가 메모리에 있어야한다.
	- 메모리 관리에 의하여 필요한 메모리가 언제 어디에 배치될 것인지 결정한다.
	- 2번 : 가상 메모리를 이용해서 효율적으로가능
- 다중처리기 환경에 서 모든 cpu가 자신의 캐시에 최신값을 유지하도록 하는 하드웨어에서 제공되어야하는 기능은?
	- 캐시 일관성
- 인터넷을 통하여 서버또는 장치를 사용
	- IaaS
- 응용프로그램이 인터넷을 통하여 사용할 수 있는 플랫폼
	- PaaS
- 인터넷을 통해 하나이상의 소프트웨어를 사용
	- SaaS 
- 운영체제는 사용자모드와 커널모드에서 이중모드를 가진다 관련하여 틀린것은?
	- 커널모드에서 서비스완료되어 사용자모드로 들어오기전 하드웨어 모드를 사용자 모드로 변경한다
	- 사용자 모드에서 커널모드로 들어가기 위하여 사용자 프로그램에서 반드시 모드를 변경하도록 프로그램한다.
	- 사용자프로그램은 사용자모드 커널프로그램은 커널모드에서 실행된다
	- 외부로부터 커널을 보호한다
	- 2번
- 하나의 컴퓨터 시스템에서 여러운영체제를 동시에 실행하는 것으로 호스트 운영체제위에 여러개의 게스트 운영체제가 돌아가게 하는 기법
	- 가상화
- 운영체제의 프로세스 관리에서 하는 활동이 아닌것은?
	- 프로세스간 통시
	- 사용자와 시스템 프로세스 생성과 제거
	- 교착상태를 방지
	- 프로세스 동기화
	- 3번
- 다음간접 통신 방식의 설명으로 맞지 않는것
	- 통신을 원하는 프로세스 쌍마다 하나의 링크만 생성
	- 링크는 많은 프로세스와 연관될 수 있다.
	- 프로세스가 메일박스를 공유할때만 링크가 설정된다.
	- 연결은 단방향또는 한방향일 수 있다.
	- 1번
- 스케줄링과 관련이 없는것은?
	- 프로세스공정처리를 위함
	- cpu사용율을 최대화 함
	- 프로세스들이 빠른 실행을 하도록 조정함
	- 프로세스들에게 cpu사용권을 주기위함
	- 3번
- 프로세스에서 기다리고 있는 부모 프로세스가 없는 자식프로세스를 ( --)프로세스라고한다
	- 고아
- 프로세스가 cpu실행상태에서 더 높은 우선순위로 인하여 준비큐로 (--)된다 . (영어임)
	- preempted
- 메세지 전달방식에서 송신자는 메세지가 수신될 때까지 실행을 중지하는 방식을 (--)방식이라고 한다
	- blocking
- 프로세스 구성요소로 적합하지 않은것은?
	- 스택
	- 심볼
	- 힙
	- 텍스트
	- 데이터
	- 2번
- 프로세스가 cpu에 실행중인 상태
	- running
- 프로세스가 입출력의 완료를 대기하고 있는 상태
	- waiting
- 스케줄러에 의해 cpu사용권을 받기 위하여 대기하고 있는 상태
	- ready
- 두프로세스간 통신할 수 있는 도관역할을 하는 통신을 파이프라 한다. 통신하는 두프로세스가 부모/자식 관계를 가지는 파이프 방식을 (--)pipes 라고한다.
	- ordinary
- 프로세스간 통신을 위한 두가지 모델중한가지를 써라
	- 공유메모리
- 프로그램과 프로세스의 관걔를 설명한 것중 잘못된것은?
	- 하나의 프로그램은 여러프로세스로 실행될 수 있다
	- 프로세스가 실행되면서 상태가 바뀌면 디스크의 프로그램 내용도 바뀐다.
	- 프로그램은 passive entities, 프로세스는 active entities
	- 프로그램은 메모리에 적제되어 실행되면서 프로세스가 된다.
	- 2번
- RPC에서 서버쪽의 실제 프로시저를 대신하는 클라이언트쪽 proxy를 무엇이라고 하는가
	- 스텁(Stubs)
- 임의의 프로세스가 cpu에서 실행되다가 스케줄러에 의해 다른프로세스에게 cpu 권한을 넘겨주면 프로세스들의 cpu전환이 일어나는과정을 무엇?
	- 문맥교환
- 하나의 프로세스에게 여러제어흐름을 만드는 실행흐름은?
	- 스레드
- 네트워크 서비스를 구별하기 위하여 ip주소와 포트를 결합하여 메세지 패킷의 시작부분에 두고, 두서버간의 통신 마지막단을 정의하며 연결이 설립되면 실시간 통신이 가능한 통신방식은?
	- 소켓
- cpu에 할당될 프로세스를 선택하는 스케줄러는
	- short term scheduler
- cpu스케줄링의 가장 보편적인 목적에 맞는것은
	- cpu이용율 극대화하는데 있다.
	- 가상 우선순위가 높은 프로세스가 항상 먼저 실행하는데 있다
	- cpu를 더욱 빠르게 사용한다
	- 특정프로세스에게 우선적으로 cpu를 선점하게 하는 정책
	- 1번
- 동기화 문제에서 송신자와 수신자가 모두 블락킹방식으로 작동하는 것을 (--)라고 부른다
	- rendezvous
- 프로세스의 구성으로 프로세스가 실행중 동적으로 메모리 영역을 할당받는데 이영역을 무엇이라고 하는가?
	- 힙
- 리눅스에서 프로세스관련 시스템호출함수
	- 부모프로세스가 자식프로세스를 강제 종료시킴
		- abort
	- 프로세스 종료
		- exit
	- 부모프로세스가 자식프로세스 종료를 기다림
		- wait
	- 프로세스에게 작업 실행
		- exec
	- 프로세스 생성
		- fork
- 프로세스가 실제로 종료하였으나 운영체제에 의해 자원회수가 아직 안되어 자리를 차지하고 있는 프로세스를 (--)라고 한다.
	- 좀비