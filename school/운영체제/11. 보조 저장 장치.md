>디스크는 데이터를 저장하는 물리적인 매체
>드라이브는 디스크를 읽고 쓰는 장치
## HDD
- 자가디스크(magnetic disks)라고도 함.
	- 플로피디스크가 이후에 나오면서 hdd로 부르는걸로 바뀌엇다고..
- 드라이브가 초당 60-250회전
- 디스크는 보통 30gb~ 3TB 용량
- 디스크는 제거,교체가능하다
- 디스크 컨트롤러와 컴퓨터의 호스트 컨트롤러는 버스를 통해 통신함

### 단면도
![300](assets/11.%20보조%20저장%20장치-20240615013143218.png)


### 성능
- 전송률 : 드라이브와 컴퓨터사이의 데이터 흐름의 비율
- 대역폭 :전송된 총 바이트 수를 총 전송시간으로 나눈값
- seek time : 디스크암을 목표실린더까지 이동시키는 시간
- rotational latency : 목표 섹터가 디스크 헤더아래에 올 때까지 회전하는데 걸리는 시간

Access Latency = Average access time = averages seek time + average latency
Average I/O time = Access Latency + (amount to transfer/ transfer rate) + controller overhead
평균 입출력 시간 = 평균 접근시간 + (전송량/전송률) + 컨트롤러 오버헤드

#### 일반적인 성능
- 전송률 : 6gb/sec
- seek time : 3~ 12ms
- 평균지연시간 rpm에 따라바뀜. 높으면 적어짐

## SSD
- solid-state disks
- 신뢰성이 더 좋을 수 있다
- MD당 비용은 더 비싸
- 더 짧은 생명주기를 가진다
- 용량이 더 적다


## SAN  & NAS
### SAN
- 저장장치를 위한 별도의 네트워크로 관리하는것
- 대용량 저장장치 환경에 일반적
- 다수의 호스트가 복수의 저장장치 배열에 부착된다.
- 엄청 비쌈


### NAS
- 저장장치를 네트워크에 연결 
- 지역적인 연결이 아님
 - 호스트와 저장장치 사이의 원격프로시저콜(RPC)로 구현
	 - IP네트워크상에서 TCP or UDP로 구현


## 디스크 스케줄링

###  FCFS (First-Come, First-Served)
- **정의**: 디스크 요청을 도착한 순서대로 처리하는 알고리즘입니다.
- **특징**:
  - 구현이 간단합니다.
  - 요청이 몰릴 경우 성능이 저하될 수 있습니다.
  - 스타베이션(기아) 문제는 없습니다.
- **예시**:
  - 요청 순서: 55, 14, 99, 25
  - 처리 순서: 55 → 14 → 99 → 25

### SSTF (Shortest Seek Time First)
- **정의**: 현재 헤드 위치에서 가장 가까운 트랙의 요청을 먼저 처리하는 알고리즘입니다.
- **특징**:
  - 평균 탐색 시간을 줄일 수 있습니다.
  - 특정 요청이 오랫동안 처리되지 않을 가능성이 있습니다(스타베이션 문제).
- **예시**:
  - 요청 순서: 55, 14, 99, 25
  - 현재 헤드 위치: 50
  - 처리 순서: 55 → 25 → 14 → 99

### SCAN (Elevator Algorithm)
- **정의**: 디스크 헤드가 한쪽 끝에서 다른 쪽 끝으로 이동하면서 모든 요청을 처리한 후, 방향을 바꾸어 반대 방향으로 이동하면서 요청을 처리하는 알고리즘입니다.
- **특징**:
  - 디스크의 양쪽 끝까지 이동하며 요청을 처리합니다.
  - 탐색 시간의 균형이 잘 맞습니다.
- **예시**:
  - 요청 순서: 55, 14, 99, 25
  - 현재 헤드 위치: 50, 방향: 증가
  - 처리 순서: 55 → 99 → 25 → 14

### C-SCAN (Circular SCAN)
- **정의**: 디스크 헤드가 한쪽 끝에서 다른 쪽 끝으로 이동하면서 요청을 처리한 후, 끝에 도달하면 반대방향의 시작점으로 이동하여 요청을 처리하는 알고리즘입니다.
- **특징**:
  - SCAN 알고리즘의 변형으로, 한 방향으로만 요청을 처리합니다.
  - 일정한 탐색 시간 분포를 유지할 수 있습니다.
- **예시**:
  - 요청 순서: 55, 14, 99, 25
  - 현재 헤드 위치: 50, 방향: 증가
  - 처리 순서: 55 → 99 → 14 → 25

### LOOK
- **정의**: SCAN과 비슷하지만, 디스크의 끝까지 가지 않고 마지막 요청까지 이동한 후 반대 방향으로 이동하면서 요청을 처리하는 알고리즘입니다.
- **특징**:
  - 끝까지 이동하지 않으므로 탐색 시간이 절약됩니다.
  - SCAN보다 효율적입니다.
- **예시**:
  - 요청 순서: 55, 14, 99, 25
  - 현재 헤드 위치: 50, 방향: 증가
  - 처리 순서: 55 → 99 → 25 → 14

### C-LOOK
- **정의**: C-SCAN과 비슷하지만, 디스크의 끝까지 가지 않고 마지막 요청까지 이동한 후 처음 요청으로 돌아가서 처리하는 알고리즘입니다.
- **특징**:
  - 끝까지 이동하지 않으므로 탐색 시간이 절약됩니다.
  - C-SCAN보다 효율적입니다.
- **예시**:
  - 요청 순서: 55, 14, 99, 25
  - 현재 헤드 위치: 50, 방향: 증가
  - 처리 순서: 55 → 99 → 14 → 25


## 디스크 관리
물리적인 포맷팅 : 디스크 컨트롤러가 일고 쓸수있도록 디스크를 섹터로 나눈다.
논리적인 포매팅 : 하나이상의 실린더 그룹으로 분할하고 각그룹을 논리적인 디스크로 취급
## 스왑공간

가상메모리 디스크 공간을 메인 메모리의 확장처럼 사용함
- 현재는 일반적이지 않음
- 공간을 확보하거나 별도의 파티션에 생성
- 스왑공간의 사용을 추적하기위해 swap maps를 사용

## 디랙토리
### 연산
- 파일 탐색, 생성 ,삭제
- 디렉터리 리스팅
- 파일이름 바꾸기
- 파일 시스템순회
### 구성
- 효율성
- 이름짓기 : for user
- 그룹핑 : 특성을 기준으로 논리그룹 묶기
### level
- single
	- 모든사용자가 하나의 디렉토리 사용
	- 그룹핑, 이름짓기의 문제
- two
	- 각 사용자마다 별도의 디렉터리 배정
	- 경로는 이름으로, 따라서 같은이름 사용불가
	- 효율적인 탐색
	- 그룹핑 문제 발생 ㄴㄴ
- three
	- 효율적인탐색
	- 그룹핑자격
	- 현재 디랙터리

## 파일 시스템
논리장치를 물리장치로 매핑하여 저장장치에 대한 사용자 인터페이스 제공
- 보조 저장장치에 상주함
- Device driver : 물리 장치 제어
- File control block(FCB) :파일에 관한 정보로 구성된 저장장치구조
	- file permission
	- file dates(create,write,acces)
	- file owner, group
	- file size
	- file data blocks or pointers to file data blocks
- 논리 파일시스템
	- 메타데이터 정보를 관리
- 부팅 제어블록 : 첫번째 볼륨 블록에 시스템이 OS를 부팅하는데 필요한 정보가 포함됨.
- 볼륨 제어 블록 : 볼륨에대한 세부 정보 포함

### 마운트
- 파일 시스템을 접근하려면 마운트 되어야함
### 접근모드
접근제어해야함 - 누가 어떤작업을 할 수 있는가
RWX(read write access)
유닉스 리눅스는3개의 클래스로 나눠서 제어함

### 할당방법
- 연속할당 : 각 파일은 연속된 디스크 블록 집합을 차지
	- 논리블록을 물리블록으로 매핑
- 연결할당 : 각 파일은 블록 연결 리스트
	- 외부 단편화, 압축없음
	- 신뢰성에 문제가 생길 수있고
	- 많은 디스크 탐색이 필요할 수 있음
- 색인할당(indexed allocation)
	- 각 파일은 데이터 브롥을 가릌는 자신의 색인블록을 가짐
### 가용공간리스트 관리
연결리스트 : 연속공간확보하기 쉽지않음 공간낭비 없음, 순회할 필요 없음

### 성능
데이터와 메타데이터를 가깝게 유지
버퍼 캐시
