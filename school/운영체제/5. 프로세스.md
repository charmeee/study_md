- 실행중인 프로그램이자 시스템안에서의 작업단위.
	- 프로그램 : passive entity
	- 프로세스 : active entity
	- 하나의 프로그램은 여러프로세스로 만들어질 수 있음
- 종료시 재활용 가능한 모든 자원을 반환 해야함.
- 프로세스는 PC(프로그램카운터)를 가진다
	- PC는 다음실행할 명령어 주소를 저장하는 곳
	- 단일스레드프로세스 : 하나의 PC가짐
	- 다중스레드프로세스 : 스레드마다 하나의 PC 가짐
- 일반적으로 프로세스는 프로세스 식별자(pid)를 이용하여 식별되고 관리됨
- CPU에 프로세스/스레드를 다중 배정함 > 병행성을 얻음
- 자원 처리량에 따른 종류
	- I/O-bound 프로세스 : cpu<io에 시간을 더 많이 소모함.
	- CPU-bound 프로세스 : 반대.
### 프로세스 상태
![[assets/스크린샷 2024-04-16 오전 11.06.40.png]] 
- new : 프로세스가 생성중인 상태
- ready : 프로세스가 스케줄러에 의해 cpu사용권을 받기 위하여 대기하고 있는 상태
- running: cpu에서 프로세스가 실행중인 상태
- waiting  : 프로세스가 어떤 사건이 일어나기를 대기하고 있는 상태

### 프로세스 메모리 할당
![[assets/Pasted image 20240416205457.png|300]]
- text(=code)영역
	- 실행할 프로그램의 코드(명령어의 집합)가 저장됨
- data 영역
	- 전역 변수와 정적 변수가 저장됨
- stack 영역
	- 잠시 사용되었다가 사라지는 데이터(매개변수,리턴값,지역변수 등..)를 저장
	- 함수 호출시 할당, 반환시 소멸 , 컴파일 타임에 크기 결정
- heap 영역
	- 동적 데이터 영역, 메모리 주소 값에 의해서만 참조됨
	- 런타임에 크기가 결정됨

### PCB
프로세스 제어 블록
이를  이용하여 문맥교환이 이뤄진다.
- 시간은 오버헤드지만 반드시 필요하다.
##### 저장하는 정보
- 프로세스 상태
- PC(프로그램 카운터): 다음에 실행할 명령어 주소
- CPU 레지스터 : 모든프로세스 관련 레지스터 내용
- CPU 스케줄링 정보 : 우선순위, 스케줄링 큐 포인터
- 메모리 관리 정보 : 프로세스에게 할당된 메모리
- 회계정보 : 사용된 CPU양 , 실행 후 경과된 클럭 타임, 시간제한 등
- I/O 상태정보 : 프로세스에게 할당된 I/O장치

#### 문맥 전환 과정
![[assets/스크린샷 2024-04-16 오후 9.27.24.png|400]]
cpu 레지스터 단위에서 일어남

### 스레드
프로세스 안의 제어 흐름
text(code) , data 영역의 자원을 공유한다.
![[assets/Pasted image 20240416213116.png]]

### 프로세스 스케줄링
- 목적 : CPU 사용을 최대로 하는 것.
- CPU에서 실행할 프로세스를 선택하는 것
#### 스케줄링 큐들
- job queue : 모든 프로세스가 올라가 있는 큐 (Long term)
- ready queue : 준비 상태에 있는 큐들이 올라가 있다 (short term)
- device queue : 입출력 장치마다 있는것,
#### 큐잉 다이어 그램
큐, 자원(원모양),프로세스의 이동 흐름을 나타냄
![[assets/스크린샷 2024-04-16 오후 9.47.34.png]]
process create 되고 나선 바로 job queue에 적재된다.
이 적재된것중에 ready queue 로 가는 것
순서 : create > job queue > ready queue

#### 스케줄러
- 단기 스케줄러 (= cpu 스케줄러) 
	- 다음에 cpu에 할당될 프로세스를 선택한다
	- 즉 준비큐에 있는 프로세스를 선택한다.
	- ms 간격으로 호출 > 빨라야함
- 장기 스케줄러 (= 잡 스케줄러)
	- 준비큐로 이동할 프로세스를 선택한다.
	- s, min 간격으로 호출
	- 이 스케줄러가 다중프로그래밍 정도를 결정
	- io bound 와 cpu bound프로세스가 고루 섞이도록 한다.
- 중기 스케줄러
	- 많은 프로세스가 있을때(= 다중프로그래밍 중일 때), 너무 많은 프로세스에게 메모리를 할당해 시스템 성능이 저하 되는 것을 방지하기 위함
	- swaping 이용
		-  물리 메모리 공간이 부족해지면, 물리 메모리의 확장 개념으로 swap area를 사용하고 swap out 시켜 내보냄
		- 메모리 <-> 디스크

### 프로세스 연산
#### 프로세스 생성
부모 프로세스가 자식프로세스를 생성하는 것 (트리 구조를 형성)
##### 옵션
- 자원 공유 옵션
	- 부모와 자식은 모든 자원을 공유한다.
	- ""  은 부분 집합을 공유한다
	- ""  은 자원을 공유하지 않는다
- 실행 옵션
	- 부모와 자식은 병행하게 실행된다
	- 부모는 자식이 종료될 때 까지 기다린다.
#### 프로세스 종료

